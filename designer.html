<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>Designer</title>
   <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
   <link href="./styles/custom_scrollbar.css" rel="stylesheet">
</head>

<body>
   <!-- navbar -->
   <div class="navbar fixed-top border border-bottom bg-body-tertiary z-3">
      <div class="d-flex flex-row">
         <button id="openCreateCanvasDialog" title="Create new design" class="btn btn-outline-primary border ms-2 me-1">
            <img src="assets/svg/create-note-svgrepo-com.svg" width="20px">
         </button>
         <input type="file" id="input_canvas_json" class="d-none" accept=".json">
         <button onclick="load_canvas_from_json()" title="Open an existing design"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/open-folder-svgrepo-com.svg" width="20px">
         </button>

         <button onclick="save_canvas_to_json()" title="Save design" class="btn btn-outline-primary border me-1">
            <img src="assets/svg/save-svgrepo-com.svg" width="20px">
         </button>
         <button onclick="save_canvas_to_jpeg()" title="Export design to JPEG format"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/file-jpg-svgrepo-com.svg" width="20px">
         </button>
         <button onclick="save_canvas_to_png()" title="Export design to PNG format"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/file-png-svgrepo-com.svg" width="20px">
         </button>
         <input id="canvas_import_image" type="file" class="d-none" accept="image/*">
         <button onclick="import_image()" title="Import image to canvas" class="btn btn-outline-primary border me-5">
            <img src="./assets/svg/download-svgrepo-com.svg" width="20px">
         </button>

         <button onclick="copy_selected_objects()" title="Copy selected object/s"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/copy-svgrepo-com.svg" width="20px">
         </button>
         <button onclick="cut_selected_objects()" title="Cut selected object/s"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/cut-svgrepo-com.svg" width="20px">
         </button>
         <button onclick="paste_copied_objects()" title="Paste copied/cutted object/s"
            class="btn btn-outline-primary border me-1">
            <img src="assets/svg/paste-svgrepo-com.svg" width="20px">
         </button>
      </div>
   </div>

   <!-- sidebar tools -->
   <div class="d-flex position-fixed flex-column h-100 bg-body-tertiary border-end border-2 z-2">
      <button onclick="generate_rectangle()" title="Generate rectangle"
         class="btn btn-outline-primary mx-1 mb-1 rounded-pill" style="margin-top: 100px">
         <img src="assets/svg/rectangle-tool-svgrepo-com.svg" width="20px" alt="">
      </button>
      <button onclick="generate_circle()" title="Generate circle"
         class="btn btn-outline-primary mx-1 mb-1 rounded-pill">
         <img src="assets/svg/circle-tool-svgrepo-com.svg" width="20px" alt="">
      </button>
      <button onclick="generate_text()" title="Generate a text box"
         class="btn btn-outline-primary mx-1 mb-1 rounded-pill">
         <img src="assets/svg/text-tool-svgrepo-com.svg" width="20px" alt="">
      </button>
      <button onclick="generate_line()" title="Generate a line" class="btn btn-outline-primary mx-1 mb-1 rounded-pill">
         <img src="assets/svg/line-tool-svgrepo-com.svg" width="20px" alt="">
      </button>
   </div>

   <!-- canvas area -->
   <div id="canvasArea" class="" style="margin-left: 70px; padding-top: 70px; margin-bottom: 60px">
   </div>

   <!-- create canvas dialog -->
   <dialog id="createCanvasDialog" class="d-none border border-2 rounded-3" style="width: 700px">
      <h1 class="text-center">Generate Canvas</h1>
      <br>
      <div class="row">
         <div class="col">
            <div class="mb-2">
               <h2 class="fw-bold">Background Color:</h2>
               <label for="rgbR">Red:</label>
               <input id="rgbR" type="number" min="0" max="255" value="255" class="border rounded-3"
                  style="width: 60px">
               <br>
               <label for="rgbG">Green:</label>
               <input id="rgbG" type="number" min="0" max="255" value="255" class="border rounded-3"
                  style="width: 60px">
               <br>
               <label for="rgbB">Blue:</label>
               <input id="rgbB" type="number" min="0" max="255" value="255" class="border rounded-3"
                  style="width: 60px">
               <br>
            </div>
            <div id="canvasColorPicker"></div>
         </div>
         <div class="col">
            <h2 class="fw-bold">Canvas Resolution:</h2>
            <div class="d-flex">
               <label for="canvasHeightInput">Height:</label>
               <input type="number" id="canvasHeightInput" value="400" class="border rounded-3" style="width: 70px">
               <span>px</span>
            </div>
            <div class="d-flex">
               <label for="canvasWidthInput">Width:</label>
               <input type="number" id="canvasWidthInput" value="600" class="border rounded-3" style="width: 70px">
               <span>px</span>
            </div>
         </div>
      </div>
      <br>

      <div class="text-center">
         <button id="generateCanvas" class="btn btn-primary rounded-pill me-3">
            Create
         </button>
         <button id="closeCreateCanvasDialog" class="btn btn-outline-secondary rounded-pill">
            Close
         </button>
      </div>
   </dialog>

   <!-- statusbar -->
   <div class="fixed-bottom bg-body-tertiary p-1 border-top z-2">
      <div class="row">
         <div class="col d-flex flex-row">
            <span class="fs-6 me-1">Canvas Resolution: </span>
            <span id="displayCanvasResolution" class="fs-6 fw-bold me-2"></span>
            <button id="openChangeCanvasResDialog" class="bg-white border border-2 rounded-pill me-3">
               <img src="assets/svg/edit-2-svgrepo-com.svg" width="15px">
            </button>

            <label for="canvas_pointer_coordinates_x" class="me-1">x:</label>
            <span id="canvas_pointer_coordinates_x" class="me-2 fw-bold"></span>
            <label for="canvas_pointer_coordinates_y" class="me-1">y:</label>
            <span id="canvas_pointer_coordinates_y" class="fw-bold"></span>
         </div>
         <div class="col d-flex justify-content-end">
            <span id="scale_multiplier_text" class="me-1"></span>
            <button id="canvas_scaler_minus" class="bg-white border border-2 rounded-pill me-1">
               <img src="assets/svg/minus-circle-1442-svgrepo-com.svg" width="10px" alt="">
            </button>
            <input id="canvas_scale_range_input" type="range" value="1" min="0.3" max="2" step="0.1" class="me-1">
            <button id="canvas_scaler_plus" class="bg-white border border-2 rounded-pill">
               <img src="assets/svg/plus-circle-1441-svgrepo-com.svg" width="10px" alt="">
            </button>
         </div>
      </div>
   </div>

   <!-- change canvas resolution dialog -->
   <dialog id="changeCanvasResDialog" class="d-none border border-1 rounded-3">
      <h3 class="mb-3 text-center">Change canvas Resolution</h3>
      <div id="login_dialog_warn_banner" class="bg-warning-subtle rounded-3 text-center p-2 mb-3">
         <img src="assets/svg/exclamation.svg" width="80px" class="">
         <h5>Objects will not scale along with the canvas.</h5>
      </div>
      <div class="mb-4">
         <div class="d-flex">
            <label for="change_res_width" class="me-2">Width:</label>
            <input id="change_res_width" type="number" class="border rounded-3">
            <span>px</span>
         </div>
         <div class="d-flex">
            <label for="change_res_height" class="me-2">Height:</label>
            <input id="change_res_height" type="number" class="border rounded-3">
            <span>px</span>
         </div>
      </div>
      <center>
         <button id="changeCanvasResolution" class="btn btn-primary rounded-pill">Change</button>
         <button id="closeChangeResolutionDialog" class="btn btn-outline-secondary rounded-pill">Cancel</button>
      </center>
   </dialog>

   <script type="module" src="./js/designer.js"></script>
   <script type="module" src="./js/statusbar/changeCanvasResolution.js"></script>
</body>

</html>
